<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Touch Slider - FreeMode & Snap</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .controls {
            max-width: 600px;
            margin: 0 auto 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .control-group {
            margin-bottom: 10px;
        }
        
        .control-group label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 14px;
        }
        
        .control-group input[type="radio"] {
            margin-right: 8px;
        }
        
        .control-group select {
            margin-left: 8px;
            padding: 4px 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .info {
            font-size: 12px;
            color: #666;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Touch Slider: FreeMode & Snap</h1>
        
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞ -->
        <div class="content-block">
            <h2>–¢–µ—Å—Ç–æ–≤–∞—è —Å–µ–∫—Ü–∏—è 1</h2>
            <p>–≠—Ç–æ—Ç –±–ª–æ–∫ —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ - —ç—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –ø—Ä–æ–±–ª–µ–º.</p>
            <p>–ü—Ä–∏ –∫–æ—Å–æ–º –∂–µ—Å—Ç–µ (–ø–æ–¥ —É–≥–ª–æ–º –±–ª–∏–∑–∫–∏–º –∫ 80¬∞) –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª. –ü—Ä–∏ –±–æ–ª–µ–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º –∂–µ—Å—Ç–µ - –¥–≤–∏–≥–∞–µ—Ç—Å—è —Å–ª–∞–π–¥–µ—Ä.</p>
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="controls">
            <div class="control-group">
                <label>
                    <input type="radio" name="mode" value="free" checked>
                    FreeMode (—Å–≤–æ–±–æ–¥–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ)
                </label>
            </div>
            <div class="control-group">
                <label>
                    <input type="radio" name="mode" value="snap">
                    Snap —Ä–µ–∂–∏–º (–ø—Ä–∏–ª–∏–ø–∞–Ω–∏–µ –∫ —Å–ª–∞–π–¥–∞–º)
                </label>
                <select id="snapAlign">
                    <option value="start">–ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é</option>
                    <option value="center">–ü–æ —Ü–µ–Ω—Ç—Ä—É</option>
                </select>
            </div>
            <div class="info">
                <strong>FreeMode:</strong> –°–ª–∞–π–¥–µ—Ä –¥–≤–∏–∂–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω–æ, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–∞–º, –≥–¥–µ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –∏–Ω–µ—Ä—Ü–∏—è.<br>
                <strong>Snap:</strong> –°–ª–∞–π–¥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–ª–∏–ø–∞–µ—Ç –∫ –±–ª–∏–∂–∞–π—à–µ–º—É —Å–ª–∞–π–¥—É. –ë—ã—Å—Ç—Ä—ã–π —Å–≤–∞–π–ø –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–∞–π–¥–æ–≤.
            </div>
        </div>
        
        <!-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–∞–π–¥–µ—Ä–∞ -->
        <div class="slider" id="touchSlider">
            <div class="slider__track">
                <div class="slider__slide">
                    <div class="slide-content">–°–ª–∞–π–¥ 1</div>
                </div>
                <div class="slider__slide">
                    <div class="slide-content">–°–ª–∞–π–¥ 2</div>
                </div>
                <div class="slider__slide">
                    <div class="slide-content">–°–ª–∞–π–¥ 3</div>
                </div>
                <div class="slider__slide">
                    <div class="slide-content">–°–ª–∞–π–¥ 4</div>
                </div>
                <div class="slider__slide">
                    <div class="slide-content">–°–ª–∞–π–¥ 5</div>
                </div>
            </div>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å–ª–µ —Å–ª–∞–π–¥–µ—Ä–∞ -->
        <div class="content-block">
            <h2>–¢–µ—Å—Ç–æ–≤–∞—è —Å–µ–∫—Ü–∏—è 2</h2>
            <p>–≠—Ç–æ—Ç –±–ª–æ–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ—Å–ª–µ —Å–ª–∞–π–¥–µ—Ä–∞. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å–∫—Ä–æ–ª–ª–∏—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ.</p>
            <p><strong>–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:</strong></p>
            <ul>
                <li>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–≤–∞–π–ø (–ø–æ—á—Ç–∏ –ø—Ä—è–º–æ) - –¥–≤–∏–≥–∞–µ—Ç —Å–ª–∞–π–¥–µ—Ä</li>
                <li>–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–≤–∞–π–ø (–ø–æ—á—Ç–∏ –ø—Ä—è–º–æ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑) - —Å–∫—Ä–æ–ª–ª–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É</li>
                <li>–ö–æ—Å–æ–π —Å–≤–∞–π–ø (~45¬∞) - –¥–æ–ª–∂–µ–Ω —Å–∫—Ä–æ–ª–ª–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</li>
                <li>–ü–æ—á—Ç–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–≤–∞–π–ø —Å –Ω–µ–±–æ–ª—å—à–∏–º –Ω–∞–∫–ª–æ–Ω–æ–º - –¥–≤–∏–≥–∞–µ—Ç —Å–ª–∞–π–¥–µ—Ä</li>
            </ul>
        </div>
        
        <div class="content-block">
            <h2>–¢–µ—Å—Ç–æ–≤–∞—è —Å–µ–∫—Ü–∏—è 3</h2>
            <p>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        </div>
        
        <div class="content-block">
            <h2>–¢–µ—Å—Ç–æ–≤–∞—è —Å–µ–∫—Ü–∏—è 4</h2>
            <p>–ï—â–µ –æ–¥–∏–Ω –±–ª–æ–∫ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞.</p>
            <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
        
        <div class="content-block">
            <h2>–¢–µ—Å—Ç–æ–≤–∞—è —Å–µ–∫—Ü–∏—è 5</h2>
            <p>–ü–æ—Å–ª–µ–¥–Ω–∏–π –±–ª–æ–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –¥–æ –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
        </div>
    </div>

    <script src="TouchSlider.js"></script>
    <script>
        // –§—É–Ω–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners(sliderInstance) {
            // –°–æ–±—ã—Ç–∏–µ –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
            sliderInstance.on('sliderDragStart', (e) => {
                console.log('üîµ sliderDragStart:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
            sliderInstance.on('sliderDrag', (e) => {
                // –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ —á—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å
                // console.log('üü° sliderDrag:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
            sliderInstance.on('sliderDragEnd', (e) => {
                console.log('üî¥ sliderDragEnd:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è —Å–ª–∞–π–¥–µ—Ä–∞ (–≤–æ –≤—Ä–µ–º—è –∏–Ω–µ—Ä—Ü–∏–∏/–∞–Ω–∏–º–∞—Ü–∏–∏)
            sliderInstance.on('sliderMove', (e) => {
                // –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ —á—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å
                // console.log('‚û°Ô∏è sliderMove:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–ª–∞–π–¥–µ—Ä–∞
            sliderInstance.on('sliderStop', (e) => {
                console.log('‚è∏Ô∏è sliderStop:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ —Å–º–µ–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–ª–∞–π–¥–∞
            sliderInstance.on('slideChange', (e) => {
                console.log('üîÑ slideChange:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ –Ω–∞—á–∞–ª–∞ snap –∞–Ω–∏–º–∞—Ü–∏–∏
            sliderInstance.on('sliderSnapStart', (e) => {
                console.log('üéØ sliderSnapStart:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è snap –∞–Ω–∏–º–∞—Ü–∏–∏
            sliderInstance.on('sliderSnapComplete', (e) => {
                console.log('‚úÖ sliderSnapComplete:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ —Ä—É—á–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–Ω–µ—Ä—Ü–∏–∏
            sliderInstance.on('manualStop', (e) => {
                console.log('‚úã manualStop:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ª–∞–π–¥–∞ (–Ω–∞—á–∞–ª–æ)
            sliderInstance.on('lastSlideVisibleStart', (e) => {
                console.log('üëÅÔ∏è lastSlideVisibleStart:', e.detail);
            });
            
            // –°–æ–±—ã—Ç–∏–µ –ø–æ–ª–Ω–æ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ª–∞–π–¥–∞
            sliderInstance.on('lastSlideVisibleFull', (e) => {
                console.log('üëÅÔ∏èüëÅÔ∏è lastSlideVisibleFull:', e.detail);
            });
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–∞
        document.addEventListener('DOMContentLoaded', () => {
            let slider = new TouchSlider('#touchSlider', {
                freeMode: true,
                snapAlign: 'start'
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π —á–µ—Ä–µ–∑ API
            setupEventListeners(slider);

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
            const radioButtons = document.querySelectorAll('input[name="mode"]');
            const snapAlignSelect = document.getElementById('snapAlign');

            radioButtons.forEach(radio => {
                radio.addEventListener('change', (e) => {
                    const freeMode = e.target.value === 'free';
                    const snapAlign = snapAlignSelect.value;
                    
                    // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º —Å–ª–∞–π–¥–µ—Ä —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
                    slider.destroy();
                    slider = new TouchSlider('#touchSlider', {
                        freeMode: freeMode,
                        snapAlign: snapAlign
                    });
                    
                    // –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–æ–±—ã—Ç–∏—è –∫ –Ω–æ–≤–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É
                    setupEventListeners(slider);
                    
                    console.log(`–†–µ–∂–∏–º –∏–∑–º–µ–Ω–µ–Ω: ${freeMode ? 'FreeMode' : 'Snap'}, align: ${snapAlign}`);
                });
            });

            snapAlignSelect.addEventListener('change', () => {
                const freeMode = document.querySelector('input[name="mode"]:checked').value === 'free';
                const snapAlign = snapAlignSelect.value;
                
                slider.destroy();
                slider = new TouchSlider('#touchSlider', {
                    freeMode: freeMode,
                    snapAlign: snapAlign
                });
                
                // –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–æ–±—ã—Ç–∏—è –∫ –Ω–æ–≤–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É
                setupEventListeners(slider);
                
                console.log(`–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–æ: ${snapAlign}`);
            });
        });
    </script>
</body>
</html>
